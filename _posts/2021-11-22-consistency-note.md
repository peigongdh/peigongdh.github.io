---
layout: post
title:  "一致性概念 笔记"
date:   2021-11-22 00:00:00 +0800
categories: cs
tag: [cap, acid]
---

## 一致性的概念

> https://www.zhihu.com/question/275845393/answer/419372793

提问：
- 请问分布式事务一致性与raft或paxos协议解决的一致性问题是同一回事吗？
- 分布式事务一致性，一般列举的方案是：两阶段提交，tcc，或者消息队列等方法；
- 而raft或者paxos等解决多副本日志一致的问题；
- 请问下这两个的场景是否不一样，或者能否以raft等协议，解决分布式事务一致性的问题？

解答：  
- paxos/raft说的是我要在A,B,C上同时做a，保证做完后A,B,C仍然是一致的（至少超过半数达成了共识），一般的实现是在主节点上实施，然后复制到其它节点；
- 分布式事务说的是我要在A机器（或集群）上做a，B机器上做b，C机器上做c，三个操作合在一起还要形成事务，注意这时候没有任何一台机器把a,b,c都运行了一遍来保证事务，而是分布式运行、通过协议协同。
